<!doctype html><html lang=en><head><title>Relocating My Blog to Github Pages :: reticulating splines</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A simple Hugo + GitHub Pages setup: build on tags, deploy to a pages branch, point a custom domain."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://sbarbett.github.io/reticulating-splines/posts/relocating-my-blog-to-github-pages/><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/main.min.775ac2af004d44c22a6d000fbd1d9af529642f5cef27399d0280d180af2c2e9b.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/menu.min.310d32205bdedd6f43144e3c3273c9deecd238eba5f9108db5ea96ca0cfbe377.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/post.min.ad50c7f4d00e7975918f37fc74c6029e1959a40d66fb5b2c6564a8715e985573.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/syntax.min.e9ab635cf918bc84b901eb65c0b2caa74c9544245e3647c1af5c129896ef276e.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://sbarbett.github.io/reticulating-splines/style.css><link rel="shortcut icon" href=https://sbarbett.github.io/reticulating-splines/favicon.png><link rel=apple-touch-icon href=https://sbarbett.github.io/reticulating-splines/apple-touch-icon.png><meta name=twitter:card content="summary"><meta name=twitter:site content="https://shane.barbetta.me"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Relocating My Blog to Github Pages"><meta property="og:description" content="A simple Hugo + GitHub Pages setup: build on tags, deploy to a pages branch, point a custom domain."><meta property="og:url" content="https://sbarbett.github.io/reticulating-splines/posts/relocating-my-blog-to-github-pages/"><meta property="og:site_name" content="reticulating splines"><meta property="og:image" content="https://sbarbett.github.io/reticulating-splines/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2025-08-27 00:00:00 +0000 UTC"></head><body><div class="container full"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>reticulating splines</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://shane.barbetta.me>about</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=https://shane.barbetta.me>about</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=https://sbarbett.github.io/reticulating-splines/posts/relocating-my-blog-to-github-pages/>Relocating My Blog to Github Pages</a></h1><div class=post-meta><time class=post-date>2025-08-27</time></div><span class=post-tags>#<a href=https://sbarbett.github.io/reticulating-splines/tags/hugo/>hugo</a>&nbsp;
#<a href=https://sbarbett.github.io/reticulating-splines/tags/blog/>blog</a>&nbsp;
#<a href=https://sbarbett.github.io/reticulating-splines/tags/github/>github</a>&nbsp;
#<a href=https://sbarbett.github.io/reticulating-splines/tags/pages/>pages</a>&nbsp;</span><div class=post-content><div><h1 id=relocating-my-blog-to-github-pages>Relocating My Blog to GitHub Pages<a href=#relocating-my-blog-to-github-pages class=hanchor arialabel=Anchor>#</a></h1><p>I am a man who is easily distracted (clearly, it&rsquo;s been six months since I last posted here). I like to experiment with things, and creating this blog was largely an experiment with Hugo and Docker. Here are a couple of notes about me:</p><ol><li>I dislike rich text editors</li><li>I am not fond of HTML or CSS</li><li>I like writing in Markdown; I think it&rsquo;s efficient</li><li>I like Git</li><li>I like things that are free</li></ol><p>If I was going to start a blog and update it with any regularity, I needed it to be dead simple. I wanted to write in Markdown, commit that Markdown to a repository, and have it magically turned into a webpage—which is easier said than done, it seems. This is how I came across Hugo.</p><h2 id=hugo>Hugo<a href=#hugo class=hanchor arialabel=Anchor>#</a></h2><p><a href=https://github.com/gohugoio/hugo>Hugo</a> is a framework written in Go that takes Markdown files and turns them into a static site. There’s a <a href=https://themes.gohugo.io/>litany of themes</a> you can add as <strong>Hugo Modules</strong> (built on Go modules) by importing them in your config.</p><p>The Hugo config file defines site-wide settings. Posts use front matter. For example (YAML shown here—Hugo also supports TOML and JSON):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>title</span>: <span style=color:#e6db74>&#34;Relocating My Blog to GitHub Pages&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>date</span>: <span style=color:#e6db74>2025-08-27</span>
</span></span><span style=display:flex><span><span style=color:#f92672>draft</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#f92672>tags</span>:
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>hugo</span>
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>blog</span>
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>github</span>
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>pages</span>
</span></span><span style=display:flex><span><span style=color:#f92672>showFullContent</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;A simple Hugo + GitHub Pages setup: build on tags, deploy to a pages branch, point a custom domain.&#34;</span>
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><p>Then you simply run <code>hugo</code> and it outputs the site to the <code>public/</code> directory by default (you can change this with <code>publishDir</code>).</p><p>Hugo has plenty of features that make it suitable for more sophisticated projects, but those were outside the scope of my needs.</p><h2 id=hosting-the-static-site>Hosting the Static Site<a href=#hosting-the-static-site class=hanchor arialabel=Anchor>#</a></h2><p>In the initial iteration of this project, I ran Hugo inside a Docker container and used an Nginx container to serve the <code>public/</code> folder. Here&rsquo;s the compose file I was using:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>blog</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>hugo</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>hugomods/hugo:exts-non-root</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>command</span>: <span style=color:#ae81ff>hugo --cleanDestinationDir --destination /usr/share/nginx/html --baseURL https://blog.barbetta.me</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>.:/src</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./public:/usr/share/nginx/html</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>networks</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>proxy_network</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>ipv4_address</span>: <span style=color:#ae81ff>192.168.100.3</span>  <span style=color:#75715e># Static IP for Hugo</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>nginx</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>nginx:latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>depends_on</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>hugo</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>networks</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>proxy_network</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>ipv4_address</span>: <span style=color:#ae81ff>192.168.100.4</span>  <span style=color:#75715e># Static IP for Blog Nginx</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./public:/usr/share/nginx/html:ro</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./nginx.conf:/etc/nginx/conf.d/default.conf:ro</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>1313</span>:<span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>networks</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>proxy_network</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>external</span>: <span style=color:#66d9ef>true</span>  <span style=color:#75715e># Use the pre-defined network from NPM</span>
</span></span></code></pre></div><p>With this approach, I ran the container on a local VPS. I used a Gitea instance to push the Markdown files, although the process was still fairly manual:</p><ol><li>Write Markdown files on my laptop</li><li>Push to Gitea</li><li>SSH into VPS</li><li>Pull from Gitea</li><li>Restart the container</li></ol><p>Mostly, this was fine, but I saw room for improvement. It could be more automated, and I didn&rsquo;t want to rely on a VPS. An S3 bucket could just as easily serve a static site, or&mldr;</p><h2 id=github-actions--pages>GitHub Actions & Pages<a href=#github-actions--pages class=hanchor arialabel=Anchor>#</a></h2><p>Lately I’ve been exploring all the potential of GitHub Pages. This is a really simple (and free) way to put up a basic static page <em>(free for public repos; private repos require a paid plan)</em>. I <a href=https://raw.githubusercontent.com/sbarbett/reticulating-splines/refs/heads/main/.github/workflows/hugo.yml>wrote a simple workflow</a> that, on release, runs Hugo on the repo, then commits the build to a separate branch called <code>pages</code>. GitHub Pages can be served from either the root or <code>/docs</code> folder of any branch—including a dedicated one.</p><p>The <a href=https://raw.githubusercontent.com/sbarbett/reticulating-splines/refs/heads/main/.github/workflows/release-from-tag.yml>other workflow</a> is one I’ve used on other projects—it runs whenever a tag is pushed to the repository. So publishing a new post looks something like this:</p><ol><li>Add the new Markdown file to <code>content/posts/</code></li><li>Update the <code>CHANGELOG.md</code> with a summary</li><li>Push the content and a new tag to the repository</li></ol><p>This will kick off the release process: a release is generated from the CHANGELOG, the CHANGELOG is updated, and then the release workflow is initiated.</p><h2 id=custom-domains>Custom Domains<a href=#custom-domains class=hanchor arialabel=Anchor>#</a></h2><p>Setting up a custom domain is straightforward —</p><ol><li><p>Go to your <strong>profile</strong> settings → <strong>Pages</strong> and add your domain (this step is for verification). GitHub will prompt you to add a TXT record for DCV. Keep that TXT record in DNS so the domain stays verified.</p></li><li><p>In your <strong>repository</strong> settings → <strong>Pages</strong>, set the custom domain for the specific site. If you’re publishing from a branch, GitHub will create (or expect) a <code>CNAME</code> file at the root of the publishing source.</p></li><li><p>Add your DNS records:</p><ul><li>For a <strong>subdomain</strong> (e.g., <code>blog.example.com</code>), create a <strong>CNAME</strong> pointing to <code>&lt;user>.github.io</code> (not the repo name).</li><li>For an <strong>apex</strong> (e.g., <code>example.com</code>), use <strong>A/AAAA</strong> (or ALIAS/ANAME) to GitHub Pages—<strong>not</strong> a CNAME (those aren&rsquo;t permitted at the root, which we all know of course).</li></ul></li><li><p>In my case, I created a CNAME from <code>blog.barbetta.me</code> to <code>sbarbett.github.io</code>.</p><ul><li><strong>If you’re using Cloudflare, TURN OFF THE PROXY (DNS-only) while GitHub provisions HTTPS.</strong> With the proxy on, GitHub can’t issue its certificate; you can re-enable the proxy after provisioning if you want (although, I can&rsquo;t say whether this will interfere with certificate renewal&mldr; I left it off).</li></ul></li><li><p>My <code>hugo.yml</code> workflow also creates a <code>CNAME</code> file in the <code>pages</code> branch—this signals the custom domain when publishing <strong>from a branch</strong>. Note: if you use the <strong>Pages Actions</strong> deploy (artifact + <code>actions/deploy-pages</code>), a <code>CNAME</code> file is ignored and not required.</p></li></ol><p><img src=../../img/github-pages.jpg alt="Screenshot of Pages"></p><h2 id=summary>Summary<a href=#summary class=hanchor arialabel=Anchor>#</a></h2><p>GitHub Actions can be fickle at times, but all in all, getting this up and running wasn’t too difficult. If you’re interested in setting up a blog this way and have questions, feel free to reach out through <a href=https://shane.barbetta.me>my contact form</a>. Something I may explore next is building a custom Hugo theme.</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><a href=https://sbarbett.github.io/reticulating-splines/posts/playing-with-my-piholes/ class="button inline next">[<span class=button__text>Playing With My PiHoles</span>] ></a></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2025 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/reticulating-splines/bundle.min.js></script></div></body></html>